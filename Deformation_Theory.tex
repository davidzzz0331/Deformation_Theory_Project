\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{fullpage}
\usepackage{tikz-cd}
\usepackage{spectralsequences}
\usepackage{adjustbox}
\usepackage{xfrac}
\usepackage{tcolorbox}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{graphicx}
\graphicspath{ {D:/Chrome Downloads./} }
\usepackage{amsthm}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\Spec}{\textrm{Spec}}
\newcommand{\Proj}{\textrm{Proj}}
\newcommand{\Hom}{\textrm{Hom}}
\usetikzlibrary{calc}
\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[theorem]
\theoremstyle{definition}
\newtheorem{remark}{Remark}[theorem]
\theoremstyle{definition}
\newtheorem{proposition}{Proposition}[theorem]
\theoremstyle{definition}
\newtheorem{lemma}[theorem]{Lemma}
\theoremstyle{definition}
\newtheorem{corollary}{Corollary}[theorem]
\theoremstyle{definition}
\newtheorem{example}{Example}[theorem]
\tikzset{curve/.style={settings={#1},to path={(\tikztostart)
    .. controls ($(\tikztostart)!\pv{pos}!(\tikztotarget)!\pv{height}!270:(\tikztotarget)$)
    and ($(\tikztostart)!1-\pv{pos}!(\tikztotarget)!\pv{height}!270:(\tikztotarget)$)
    .. (\tikztotarget)\tikztonodes}},
    settings/.code={\tikzset{quiver/.cd,#1}
        \def\pv##1{\pgfkeysvalueof{/tikz/quiver/##1}}},
    quiver/.cd,pos/.initial=0.35,height/.initial=0}
\title{Deformation Theory}
\author{David Zhu}

\begin{document}
\maketitle


\tableofcontents

\newpage



\section{Introduction}
In the section, we will introduce the definitions and intuition for first order deformations. 

\subsection{Intuition}
\textbf{Embedded Deformation}: Suppose we have a smooth submanifold $X$ embedded an ambient complex manifold $Y$. The embedding is equipped with a normal bundle $N_YX$. By the tubular neighborhood theorem, we have a embedding of its total space: 

\[\begin{tikzcd}
	X && Y \\
	& {N_YX}
	\arrow[hook, from=1-1, to=1-3]
	\arrow["{\textrm{0-section}}"', from=1-1, to=2-2]
	\arrow[dotted, hook, from=2-2, to=1-3]
\end{tikzcd}\]

A smooth deformation of $Y$ inside $X$ is then a smooth section of $N_YX$: at each point $x\in X$, the section give you the normal direction along which to ``infinitesimally" deform $X$ inside $Y$. This definition offers some differential topologically intuition, even though we no longer have an analog of the tubular neighborhood theorem in the holomorphic/algebraic setting.

More generally, we are given the data of 
\begin{enumerate}
    \item A morphism of objects $f: X\to Y$ in some category (e.g. schemes, complex manifolds, etc).
    \item An ``infinitesimal thickening" of $X$ and $Y$, which are prescribed injective morphisms $X\to X'$ and $Y\to Y'$.
\end{enumerate}

A deformation of $f$ is then a lift of the morphism $X\to Y$ to a morphism $X'\to Y'$
\[\begin{tikzcd}
	X & Y \\
	{X'} & {Y'}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow["{?}"', dotted, from=2-1, to=2-2]
\end{tikzcd}\]

\textbf{Deformation of Complex Structure}: Viewing a complex manifold $X$ as a real manifold with an integrable almost complex structure $J$, a deformation of the complex structure is a family of almost complex structures $J_t$ parametrized by $t\in (-\epsilon, \epsilon)$ such that $J_0 = J$ and each $J_t$ is integrable. Infinitesimally, we can think of this as a perturbation of the almost complex structure $J$ by a small parameter $t$ in the space of endomorphisms of the tangent bundle $TX$ that satisfy $J_t^2 = -\mathrm{Id}$ and the integrability condition (vanishing of the Nijenhuis tensor).


The theory of Kodaira-Spencer describes how such deformations can be understood in terms of certain cohomology groups associated with the manifold. More precisely, first order deformations of the complex structure on $X$ are classified by the cohomology group $H^1(X, T_X)$, where $T_X$ is the holomorphic tangent bundle of $X$.





\textbf{Deformation and Moduli Problem}
In relation to deformation of complex structure, suppose we have concretely constructed the moduli space $\mathcal{M}_g$ parameterizing smooth projective curves of genus $g$. A point $[C]\in \mathcal{M}_g$ corresponds to an isomorphism class of a smooth projective curve $C$ of genus $g$. A deformation of the curve $C$ can be thought of as a small perturbation of the complex structure on $C$, leading to a family of curves $C_t$ parameterized by a small parameter $t$. Infinitesimally, this corresponds to moving along a tangent vector at the point $[C]$ in the moduli space $\mathcal{M}_g$. The tangent space at $[C]$ can be identified with the first cohomology group $H^1(C, T_C)$, where $T_C$ is the holomorphic tangent bundle of the curve $C$.

Suppose we have a fine moduli space $\mathcal{M}$ parameterizing certain objects, meaning any family of such objects over a base $B$ is given by a morphism 
\[B\to \mathcal{M}\]
Then an infinitesimal deformation of an object $X$ corresponding to a point $[X]\in \mathcal{M}$ is given by a family over the dual numbers $\mathrm{Spec}(\mathbb{C}[\epsilon]/(\epsilon^2))$ (we can think of the dual numbers as a point equipped with a tangent vector), such that the fiber over $0$ is isomorphic to $X$. Then, the classifying map 
\[T_0B\to T_{[X]}\mathcal{M}\]
precisely specifies a tangent vector at $[X]$.

\newpage
\section{First Order Deformation}
\begin{definition}
	The \textbf{dual numbers} over a field $k$ is the ring 
	\[D:= k[t]/(t^2)\]
\end{definition} 

Note that $\Spec(D)$ is the one-point space consisting of the prime ideal $(t)$. Its Zariski tangent space is given by 
\[T_{(t)}D:= \Hom_k ((t)/(t^2),k) \]
which is a one-dimensional $k$-vector space. In contrast, $\Spec(k)$ is also a one-point space, but its Zariski tangent space is zero-dimensional. Thus, we can think of $\Spec(D)$ as a point equipped with a tangent vector. The dual numbers will be our base space for first order deformations.


\begin{definition}
	\label{deformation_def}
	Let $Y$ be a scheme over $k$, and $X$ be a closed subscheme. A \textbf{first order embedded deformation} of $X$ in $Y$ is a closed subscheme $X'\subset Y\times_k \Spec (D)$ such that 
	\begin{enumerate}
		\item $X'$ is flat over $D$
		\item The fiber over the point is $X$, i.e 
		\[X'\times_{\Spec(D)}\Spec(k)= X\]
	\end{enumerate}
\end{definition}

We would like to classify all such deformations. It is useful to characterize flatness over the dual numbers first: 

\begin{lemma}
	\label{flatness_criterion}
	A module $M$ over a commutative ring $R$ is flat iff for every ideal $I\subset R,$ the module homomorphism 
	\[I\otimes_R M\to M\]
	is injective.
\end{lemma}
\begin{proof}
	Follows directly from the fact that flatness is equivalent to the vanishing of $\mathrm{Tor}_1^R(R/I, M)$ for all ideals $I\subset R$.
\end{proof}







\subsection{Embedded Deformation of Schemes}
We first deal with the affine case. Suppose $X=\Spec(B)$ is affine, and $Y$ is a closed subscheme defined by an ideal $I\subset B$. We see that first-order embedded deformations of $Y$ in $X$ correspond to ideals $J\subset B':= B[t]/(t^2)$ such that 
\begin{enumerate}
	\item $B'/J$ is flat over $D$
	\item The image of $J$ under the quotient map
	\[B[t]/(t^2)\to B\]
	is $I$.
\end{enumerate}
\begin{proposition}
\label{affine_deformation}
	There is a bijection between the set of first-order embedded deformations of $Y$ in $X$ and $\mathrm{Hom}_B (I, B/I)$.
\end{proposition}
\begin{proof}


	Suppose we are given an ideal $J\subset B'$ such that the $J \textrm{ mod } t =I$. By Lemma \ref{flatness_criterion}, flatness of $B'/J$ over $D$ is equivalent to the exactness of
	\[ 0\to B'/J\otimes_D (t)\to B'/J\to B'/J\otimes_D k\to 0\]
	Viewing $(t)$ as a $k$-module, we have 
	\[B/I\otimes_k (t)\cong (B'/J\otimes_D k)\otimes_k (t)\cong  B'/J\otimes_D (t)\]
	So we may rewrite the exact sequence as
	\[0\to B/I\xrightarrow{\cdot t} B'/J\to B/I\to 0\]
	Since $B':=B[t]/(t^2)$ splits as $B\oplus tB$ as $B$-modules, for every $f\in I$, there exist lifts of the form $f+tg\in J$, where $f,g\in B$. By exactness of the sequence above, different lifts differ by an element in $tI$, so we may then define a function
	\[\varphi: I\to B/I\]
	by $\varphi(f)=\overline{g}$. It is easy to check this is well-defined and a $B$-module homomorphism. Conversely, given a $B$-module homomorphism $\phi: I\to B/I$, we may define an ideal:
	\[J:= \{f+t g\mid f\in I, g\in B, g\textrm{ mod } I = \phi(f)\}\]
	Flatness of $B'/J$  over $D$ can be checked by by the same exact sequence as above: an element $tb$ is in the ideal $J$ iff $b\in I$. The two constructions are inverse to each other, and we have the desired bijection.

\end{proof}

\begin{definition}
	The first order embedded deformations of $Y$ in $X$ is \textbf{trivial} if they correspond to the zero homomorphism in $\mathrm{Hom}_B (I, B/I)$, which corresponds to the ideal $J=I\oplus tI\subset B[t]/(t^2)$.
\end{definition}


\begin{example}
We are given curve $C$ carved out by $f(x,y)$, embedded in $\mathbb{A}^2$ via the canonical map 
	 \[k[x,y]\to k[x,y]/(f)\]
By our above analysis, first order embedded deformations of $C$ in $\mathbb{A}^2$ correspond to elements of 
\[\mathrm{Hom}_{k[x,y]/(f)} ((f), k[x,y]/(f))\cong k[x,y]/(f)\]
In particular, each $g\in k[x,y]/(f)$ gives rise to a first order deformation defined by the principal ideal $J=(f+tg)$. We can think of this as perturbing $f$ by $g$ infinitesimally.

\end{example}

Recall that for a closed embedding of schemes $X\to Y$ defined by an ideal sheaf $\mathcal{I}\subset \mathcal{O}_Y$, the normal sheaf $\mathcal{N}_{X/Y}$ is defined as the dual of the conormal sheaf $\mathcal{I}/\mathcal{I}^2$. Moreover, 
\[\Hom_Y(\mathcal{I}, \mathcal{O}_X)\cong \Hom_X(\mathcal{I}/\mathcal{I}^2, \mathcal{O}_X)\] Since flatness is a local property, and our construction above is natural and compatible with localization, we may globalize Proposition \ref{affine_deformation} to obtain:
\begin{theorem}
	Let $Y$ be a scheme over a field $k$, and let $X$ be a closed subscheme of $Y$. Then the deformations of $X$ over $D$ in $Y$ are in natural one-to-one correspondence with elements of $H^0(X,N_{X/Y})$, with the zero element corresponding to the trivial deformation.
\end{theorem}

\subsection{Deformation of Coherent Sheaves}
Let $X$ be a scheme over a field $k$, and $\mathcal{F}$ be a coherent sheaf on $X$. A first order deformation of $\mathcal{F}$ is a coherent sheaf $\mathcal{F}'$ on $X':=X\times_k \Spec(D)$ that is 
\begin{enumerate}
	\item flat over $D$;
	\item equipped with a homomorphism  $\mathcal{F'}\to \mathcal{F}$ such that the induced map $\mathcal{F}'\otimes_D k\to \mathcal{F}$ is an isomorphism.
\end{enumerate}

\begin{theorem}
	Let $X$ be a scheme over a field $k$, and $\mathcal{F}$ be a coherent sheaf on $X$. Then the set of first order deformations of $\mathcal{F}$ is in natural one-to-one correspondence with elements of $\mathrm{Ext}^1_X(\mathcal{F}, \mathcal{F})$, with the zero element corresponding to the trivial deformation.
\end{theorem}
\begin{proof}
	By Lemma \ref{flatness_criterion}, a first order deformation $\mathcal{F}'$ of $\mathcal{F}$ fits into a short exact sequence of $D$-modules
	\[0\to \mathcal{F}\xrightarrow{t} \mathcal{F}'\to \mathcal{F}\to 0\]
\end{proof}














































\newpage
\bibliographystyle{plain}
\bibliography{citation}
\end{document}